<div class="container page-wrapper">
  <h1>Results</h1>
  <div class="row" *ngIf="currentRecord &&  currentRecord.questionPaperName && currentRecord.questionPaperName.length">
    <div class="card text-center">
      <div class="card-header">
          Results details
      </div>
      <div class="card-body">
        <h5 class="card-title">Paper Name : {{currentRecord.questionPaperName}}</h5>
        <div >
            <h2>Rank acheived :{{currentRecord.rank}}</h2>
            <h3>Score : {{currentRecord.score}}</h3>
          </div>
        <a class="btn btn-primary" (click)="toggleRankPanel()">Close</a>
      </div>
      <div class="card-footer text-muted">
          AttemptedDate : {{currentRecord.attemptedDate | date:'full'}}}
      </div>
    </div>
  </div>
  <div class="row">
    <p-table [columns]="columns" [value]="results" dataKey="SessionId" [paginator]="true" [rows]="10" selectionMode="single"
      [(selection)]="selectedRecord">
      <ng-template pTemplate="header" let-columns>
        <tr>
          <th *ngFor="let col of columns" [style.width]="col.width">
            {{col.header}}
          </th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-rowData>
        <tr>
          <td>{{rowData.questionPaperName}}</td>
          <!-- <td>{{rowData.sessionId}}</td> -->
          <td>{{rowData.result}}</td>
          <td>{{rowData.attemptedDate | date:'full'}}</td>
          <td>
            <span *ngIf="!rowData.rank">
            <button class="btn btn-sm btn-success" (click)="showRank(rowData)">Show Rank</button>
          </span>
          <span *ngIf="rowData.rank">
            {{rowData.rank}}
          </span>
          </td>
          <td>
            <button class="btn btn-sm btn-success" (click)="revealAns(rowData)">Reveal Answers</button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>

<ng-template #tpl>
</ng-template>
